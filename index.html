<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador de Tarefas</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link href="style.css" rel="stylesheet" />
    <style>
        .atrasada .card {
            border: 2px solid #dc3545;
            background-color: #f8d7da;
        }
        .atrasada .card .card-body {
            color: #721c24;
        }
        .todo-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .todo-header h1 {
            font-size: 2.5rem;
            font-weight: bold;
            color: #007bff;
            letter-spacing: 2px;
        }
        .category-btn {
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .card-form {
            background: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .logout-btn-top {
            position: absolute;
            top: 24px;
            right: 32px;
            z-index: 10;
        }
        @media (max-width: 600px) {
            .logout-btn-top {
                top: 12px;
                right: 10px;
            }
        }
    </style>
</head>
<script>
  if (localStorage.getItem('isAuthenticated') !== 'true') {
    window.location.href = 'login.html';
  }
</script>
<body>
    <a href="login.html" class="btn btn-secondary logout-btn-top">
        <i class="bi bi-box-arrow-right"></i> Log-out
    </a>
    <a href="calendario.html" class="btn btn-outline-primary" style="position:absolute; top:24px; right:160px; z-index:10;">
        <i class="bi bi-calendar3"></i> Calendário
    </a>
    <div class="container mt-5">
        <div class="todo-header">
            <h1><i class="bi bi-check2-square"></i> Gerenciador de Tarefas</h1>
            <p class="text-muted">Organize seu dia de forma simples e elegante</p>
        </div>

        <div class="card-form mb-4">
            <form id="task-form">
                <div class="mb-3">
                    <label for="task-title" class="form-label">Título da Tarefa</label>
                    <input type="text" class="form-control" id="task-title" required>
                </div>
                <div class="mb-3">
                    <label for="task-category" class="form-label">Categoria</label>
                    <select class="form-select" id="task-category">
                        <option value="">Selecione uma Categoria</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="task-date" class="form-label">Data de Conclusão</label>
                    <input type="date" class="form-control" id="task-date">
                </div>
                <div class="mb-3">
                    <label for="task-priority" class="form-label">Prioridade</label>
                    <select class="form-select" id="task-priority">
                        <option value="Baixa">Baixa</option>
                        <option value="Média">Média</option>
                        <option value="Alta">Alta</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary w-100"><i class="bi bi-plus-circle"></i> Adicionar Tarefa</button>
            </form>
        </div>

        <div class="card-form mb-4">
            <div class="mb-3">
                <label for="category-name" class="form-label">Nova Categoria</label>
                <div class="input-group">
                    <input type="text" class="form-control" id="category-name" placeholder="Nome da Categoria">
                    <button class="btn btn-outline-primary" onclick="addCategory()"><i class="bi bi-plus"></i> Adicionar</button>
                </div>
            </div>
        </div>

        <div id="category-filters" class="mb-3">
            <button class="btn btn-secondary category-btn" onclick="renderTasks()">Todas as Tarefas</button>
            <!-- Botões de categoria serão adicionados aqui dinamicamente -->
        </div>

        <ul id="task-list" class="list-unstyled"></ul>
    </div>
    <script src="script.js"></script>
</body>
</html>